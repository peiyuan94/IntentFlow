# 语流小助手开发计划

## 版本1.0 - 核心图像理解功能

### TASK001: 项目基础架构搭建
- **版本**: 1.0
- **状态**: 计划中

#### 子任务:
1. 创建Visual Studio项目，配置MFC支持
2. 设计项目目录结构
3. 实现基本的配置管理功能
4. 创建主窗口框架

#### AI编程助手详细提示词:
您需要帮助创建一个基于MFC的Visual Studio项目。项目应包含以下组件:
1. 主应用程序类（继承自CWinApp）
2. 主框架窗口类（继承自CFrameWnd）
3. 基本的菜单和工具栏
4. 配置文件读写功能（使用INI或JSON格式）
5. 项目应具有良好的模块化结构，便于后续功能扩展

#### 验收标准:
- Visual Studio项目可以成功编译和运行
- MFC框架正确初始化
- 主窗口可以正常显示
- 配置管理功能可以读写基本设置

#### 注意事项:
- 确保选择正确的MFC库版本（静态链接或动态链接）
- 注意Unicode和多字节字符集的设置
- 项目应配置为支持C++11或更高版本标准

### TASK002: 图像理解核心模块开发
- **版本**: 1.0
- **状态**: 计划中

#### 子任务:
1. 集成阿里云API SDK
2. 实现图像编码和传输功能
3. 开发API调用核心功能
4. 实现基础错误处理

#### AI编程助手详细提示词:
您需要帮助开发一个与阿里云通义千问VL-Max API通信的模块。该模块应具备以下功能:
1. 读取并验证阿里云API密钥
2. 将图像文件转换为Base64编码格式
3. 构造符合API要求的HTTP请求
4. 发送请求并处理响应
5. 解析API返回的JSON数据
6. 实现基本的错误处理和重试机制

#### 验收标准:
- 可以成功调用阿里云API并获得响应
- 正确处理各种错误情况（网络错误、认证失败等）
- 图像编码和传输功能正常工作
- API响应数据可以被正确解析

#### 注意事项:
- 注意API调用频率限制
- 确保API密钥的安全存储
- 处理大图像文件时的内存使用问题
- 网络请求应设置合理的超时时间

### TASK003: 测试接口模块开发
- **版本**: 1.0
- **状态**: 计划中

#### 子任务:
1. 设计测试接口架构
2. 实现GUI Grounding测试功能
3. 实现GUI Referring测试功能
4. 实现GUI VQA测试功能

#### AI编程助手详细提示词:
您需要帮助开发一个测试接口模块，用于验证图像理解功能。该模块应支持三种测试类型:
1. GUI Grounding: 输入问题，输出控件坐标（x1, y1, x2, y2）
2. GUI Referring: 输入坐标，输出对应控件的功能描述
3. GUI VQA: 输入问题，输出答案文本和相关控件坐标

模块应具备以下功能:
1. 加载测试图像文件
2. 读取和解析测试问题数据
3. 调用图像理解核心模块处理测试任务
4. 验证输出格式是否符合要求
5. 记录测试结果和统计信息

#### 验收标准:
- 三种测试类型功能均可正常工作
- 输出格式符合各自要求
- 可以正确加载和处理测试数据
- 测试结果可以被正确记录和统计

#### 注意事项:
- 确保输出格式严格符合规范要求
- 处理测试数据时要注意数据一致性
- 测试过程应具有可重复性

## 版本2.0 - 用户界面和自动化操作框架

### TASK004: 用户界面完善
- **版本**: 2.0
- **状态**: 计划中

#### 子任务:
1. 完善主控制面板界面
2. 实现测试任务执行界面
3. 添加结果展示和导出功能
4. 优化用户交互体验

#### AI编程助手详细提示词:
您需要帮助完善基于MFC的用户界面。界面应包含以下功能:
1. 主控制面板，显示应用状态和基本操作按钮
2. 测试任务执行界面，允许用户选择任务类型、导入图像、输入问题
3. 结果展示区域，以清晰的方式显示分析结果
4. 导出功能，支持将结果保存为文件
5. 直观的用户交互设计，确保操作流程清晰易懂

界面设计要求:
1. 使用标准MFC控件（按钮、文本框、列表框等）
2. 合理布局，确保界面美观且功能清晰
3. 提供必要的用户提示和帮助信息
4. 支持基本的用户操作反馈（如进度条、状态提示等）

#### 验收标准:
- 主控制面板功能完整且界面美观
- 测试任务执行界面操作流程清晰
- 结果可以正确显示和导出
- 用户交互体验良好

#### 注意事项:
- 确保界面在不同分辨率下都能正常显示
- 注意控件的可用性和交互逻辑
- 提供清晰的错误提示信息
- 考虑用户的操作习惯和便捷性

### TASK005: 自动化操作框架搭建
- **版本**: 2.0
- **状态**: 计划中

#### 子任务:
1. 设计手机自动化操作接口
2. 实现基础操作命令框架
3. 添加操作映射机制
4. 实现操作执行日志

#### AI编程助手详细提示词:
您需要帮助设计和实现手机自动化操作框架。该框架应具备以下功能:
1. 定义标准的操作接口，支持常见的手机操作（点击、滑动、输入等）
2. 实现基础操作命令的解析和执行
3. 建立图像理解结果与具体操作之间的映射机制
4. 记录操作执行过程和结果的日志功能

设计考虑:
1. 操作接口应具有良好的扩展性，便于添加新类型操作
2. 操作命令应支持参数化，以适应不同的执行需求
3. 映射机制应能处理复杂的操作序列
4. 日志功能应详细记录操作过程，便于调试和问题追踪

#### 验收标准:
- 标准操作接口设计完成
- 基础操作命令可以正确解析和执行
- 操作映射机制可以正常工作
- 操作日志功能完整

#### 注意事项:
- 考虑操作执行的安全性，避免误操作
- 确保操作命令的准确性和可靠性
- 日志记录应包含足够信息用于问题诊断
- 需要考虑不同型号手机的兼容性问题

## 版本3.0 - 稳定性和扩展功能

### TASK006: 稳定性增强
- **版本**: 3.0
- **状态**: 计划中

#### 子任务:
1. 实现完整的错误处理机制
2. 添加API调用重试功能
3. 实现日志记录功能
4. 添加性能监控功能

#### AI编程助手详细提示词:
您需要帮助增强应用的稳定性和可靠性。需要实现以下功能:

1. 错误处理机制:
   - 捕获和处理各种类型的异常
   - 提供用户友好的错误提示
   - 实现错误恢复机制
   - 记录详细的错误信息用于调试

2. API调用重试功能:
   - 在网络错误或API临时故障时自动重试
   - 实现指数退避重试策略
   - 设置合理的重试次数上限
   - 避免因重试造成的额外费用

3. 日志记录功能:
   - 记录应用运行过程中的关键事件
   - 支持不同级别的日志（调试、信息、警告、错误）
   - 实现日志文件的滚动和清理机制
   - 提供日志查看和导出功能

4. 性能监控功能:
   - 监控API调用的响应时间
   - 统计任务处理的成功率
   - 记录资源使用情况（内存、CPU等）
   - 提供性能数据的可视化展示

#### 验收标准:
- 应用在各种异常情况下都能稳定运行
- API调用具有良好的容错能力
- 日志记录完整且易于分析
- 性能监控功能可以提供有用的数据

#### 注意事项:
- 错误处理不应影响正常功能的使用
- 重试机制应避免对API服务造成过大压力
- 日志记录应平衡详细程度和性能影响
- 性能监控应尽量减少对应用运行的干扰

### TASK007: 扩展功能开发
- **版本**: 3.0
- **状态**: 计划中

#### 子任务:
1. 实现批量处理功能
2. 添加自定义任务支持
3. 实现结果分析和统计
4. 添加高级配置选项

#### AI编程助手详细提示词:
您需要帮助开发应用的扩展功能，提升其实用性和灵活性。需要实现以下功能:

1. 批量处理功能:
   - 支持同时处理多个图像和问题
   - 实现任务队列管理
   - 提供批量处理进度显示
   - 支持批量处理结果的统一导出

2. 自定义任务支持:
   - 允许用户定义新的任务类型
   - 提供任务模板功能
   - 支持自定义输出格式
   - 实现任务配置的导入和导出

3. 结果分析和统计:
   - 对处理结果进行分类统计
   - 提供数据可视化功能
   - 支持结果对比分析
   - 生成统计报告

4. 高级配置选项:
   - 提供详细的参数配置界面
   - 支持配置文件的版本管理
   - 实现配置的导入和导出
   - 提供配置预设功能

#### 验收标准:
- 批量处理功能可以提高工作效率
- 自定义任务功能满足个性化需求
- 结果分析功能提供有价值的洞察
- 高级配置选项增强应用的灵活性

#### 注意事项:
- 批量处理应考虑系统资源的合理使用
- 自定义任务功能应保证易用性和稳定性
- 结果分析应提供直观且有用的信息
- 高级配置应有适当的默认值和说明